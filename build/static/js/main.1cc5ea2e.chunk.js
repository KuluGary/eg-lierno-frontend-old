(this["webpackJsonplierno-frontend"]=this["webpackJsonplierno-frontend"]||[]).push([[0],{156:function(e,a,t){e.exports=t(170)},170:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),i=t.n(l),c=t(40),s=t(54),m=t(80),o=t(79),u=t(17),E=t(61),d=t(47),p=t.n(d),h=t(76),g=t(6),b=t(254),f=t(175),v=t(218),O=t(255),x=t(223),y=t(249),N=t(224),j=t(244),S=t(95),C=t.n(S),k=t(87),w=t(215),I=t(217),A=t(42),_={base_url:"http://localhost:3001/api/v1"},D={base_url:"https://pro-lierno-backend.herokuapp.com/api/v1/"},R=t(110),T=t.n(R),P=function e(){Object(c.a)(this,e)};P.token=null,P.loggedIn=function(){return!(!sessionStorage.getItem("token")&&!localStorage.getItem("token"))},P.isTokenExpired=function(e){try{return T()(e).exp<Date.now()/1e3}catch(a){return!1}},P.getToken=function(){return sessionStorage.getItem("token")||localStorage.getItem("token")},P.hasRole=function(e){var a=P.getToken();if(a){var t=T()(a);return t.roles&&t.roles.some((function(a){return a===e}))}};var B=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"getKey",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t="development"===this.environment()?D:_;return e in t?t[e]:a}},{key:"environment",value:function(){return"production"}},{key:"fetchInternal",value:function(){var e=Object(h.a)(p.a.mark((function e(a,t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.environment()),a=this.getKey("base_url")+a,n={Accept:"application/json","Content-Type":"application/json"},!P.loggedIn()){e.next=9;break}return e.next=6,P.getToken();case 6:return e.t0=e.sent,n.Authorization="Bearer "+e.t0,e.abrupt("return",fetch(a,Object(A.a)({headers:n},t)).then(this._checkStatus).then((function(e){return e.json()})).then((function(e){return e.payload})).catch((function(e){return console.log(e)})));case 9:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()}]),e}();B._checkStatus=function(e){if(e.status>=200&&e.status<300)return e;e.json().then((function(e){console.log(e)}));var a=new Error(e.statusText);throw a.response=e,a};var W=t(216);function z(){return r.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Gary Cu\xe9tara"," ",(new Date).getFullYear(),".")}var F=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none"}}}));var L=Object(E.g)((function(e){var a=F(),t=Object(n.useState)(""),l=Object(g.a)(t,2),i=l[0],c=l[1],s=Object(n.useState)(""),m=Object(g.a)(s,2),o=m[0],d=m[1],S=Object(n.useState)(!1),w=Object(g.a)(S,2),A=w[0],_=w[1],D=Object(n.useState)(!1),R=Object(g.a)(D,2),T=(R[0],R[1]),L=Object(n.useState)(!1),M=Object(g.a)(L,2),U=M[0],q=M[1];return Object(n.useEffect)((function(){P.loggedIn()&&e.history.push("/")}),[]),r.a.createElement(r.a.Fragment,null,P.loggedIn()&&r.a.createElement(E.a,{to:"/"}),r.a.createElement(W.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(v.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(b.a,{className:a.avatar},r.a.createElement(C.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(a){if(a.preventDefault(),i&&o){var t={username:i,password:o},n=B.getKey("base_url")+"/login";fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.payload.token})).then(function(){var a=Object(h.a)(p.a.mark((function a(t){return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:A?localStorage.setItem("token",t):sessionStorage.setItem("token",t),e.history.push("/"),T(!0),e.authenticated();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){return q(!0)}))}}},r.a.createElement(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:U,id:"email",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:U,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return d(e.target.value)}}),r.a.createElement(x.a,{control:r.a.createElement(y.a,{checked:A,onChange:function(){return _(!A)}}),label:"Remember me"}),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0},r.a.createElement(u.b,{to:"/register",className:a.link},"Don't have an account? Sign Up"))))),r.a.createElement(j.a,{mt:8},r.a.createElement(z,null)))))}));function M(){return r.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ","Gary Cu\xe9tara",(new Date).getFullYear(),".")}var U=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{textDecoration:"none"}}}));function q(e){var a=U(),t=Object(n.useState)(""),l=Object(g.a)(t,2),i=l[0],c=l[1],s=Object(n.useState)(""),m=Object(g.a)(s,2),o=m[0],E=m[1],d=Object(n.useState)(""),p=Object(g.a)(d,2),h=p[0],x=p[1],y=Object(n.useState)(""),S=Object(g.a)(y,2),w=S[0],A=S[1],_=Object(n.useState)(""),D=Object(g.a)(_,2),R=D[0],T=D[1],z=Object(n.useState)(!1),F=Object(g.a)(z,2),L=(F[0],F[1]);Object(n.useEffect)((function(){P.loggedIn()&&e.history.push("/")}),[]);return r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(I.a,{component:"main",maxWidth:"xs",onSubmit:function(e){e.preventDefault();var a={username:i,password:o,metadata:{first_name:h,last_name:w,email:R}},t=B.getKey("base_url")+"/register";fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(){return L(!0)}))}},r.a.createElement(v.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(b.a,{className:a.avatar},r.a.createElement(C.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return x(e.target.value)}})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return A(e.target.value)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return T(e.target.value)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:function(e){return c(e.target.value)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return E(e.target.value)}}))),r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),r.a.createElement(N.a,{container:!0,justify:"flex-end"},r.a.createElement(N.a,{item:!0},r.a.createElement(u.b,{to:"/login",className:a.link},"Already have an account? Sign in"))))),r.a.createElement(j.a,{mt:5},r.a.createElement(M,null))))}var H=t(4),V=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){return Object(c.a)(this,t),a.call(this,e)}return Object(s.a)(t,[{key:"componentDidMount",value:function(){P.loggedIn()?this.props.history.push("/characters"):this.props.history.push("/login")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",null,"LOREM"))}}]),t}(n.Component),G=Object(H.a)((function(e){return{root:{flexGrow:1}}}))(V),K=t(173),Z=t(78),J=t.n(Z),Y=t(28),$=t(3),X=t(225),Q=t(226),ee=t(174),ae=t(126),te=t.n(ae),ne=t(227),re=t(136),le=Object(w.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},flex:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},link:{color:"inherit",textDecoration:"none"}}}));var ie=Object(E.g)((function(e){var a=le(),t=r.a.useState(null),n=Object(g.a)(t,2),l=n[0],i=n[1],c=r.a.useState(!1),s=Object(g.a)(c,2),m=s[0],o=s[1],d=r.a.useState(!1),p=Object(g.a)(d,2),h=p[0],b=p[1],f=Boolean(l),v=function(){i(null)};return r.a.createElement("div",{className:a.root},m&&r.a.createElement(E.a,{to:"/login"}),h&&r.a.createElement(E.a,{to:"/profile"}),r.a.createElement(X.a,{position:"fixed",className:Object($.a)(a.appBar,Object(Y.a)({},a.appBarShift,e.open))},r.a.createElement(Q.a,null,r.a.createElement(ee.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawer,edge:"start",className:Object($.a)(a.menuButton,Object(Y.a)({},a.hide,e.open))},r.a.createElement(te.a,null)),r.a.createElement("div",{className:a.flex},r.a.createElement(k.a,{variant:"h6",noWrap:!0},r.a.createElement(u.b,{to:"/",className:a.link},"Lierno")),r.a.createElement("div",null,r.a.createElement(ee.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(J.a,{fontSize:"large"})),r.a.createElement(re.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:v},r.a.createElement(ne.a,{onClick:function(){return b(!0)}},"My account"),r.a.createElement(ne.a,{onClick:function(){sessionStorage.getItem("token")&&sessionStorage.removeItem("token"),localStorage.getItem("token")&&localStorage.removeItem("token"),v(),o(!0),e.authenticated(),e.history.push("/login")}},"Logout")))))))})),ce=Object(w.a)((function(e){return{root:{flexGrow:1,height:"100vh",width:"100vw"},profileBox:{maxWidth:"40%",margin:"0 auto",padding:"2rem"},avatar:{display:"block",margin:"0 auto",fontSize:"6rem",color:e.palette.secondary.main}}}));function se(){var e=ce(),a=Object(n.useState)(),t=Object(g.a)(a,2),l=t[0],i=t[1];return Object(n.useEffect)((function(){B.getKey("base_url");B.fetchInternal("/me").then((function(e){return i(e)}))}),[]),r.a.createElement(W.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:e.root},r.a.createElement(K.a,{className:e.profileBox},r.a.createElement(J.a,{className:e.avatar,fontSize:"inherit"}),r.a.createElement(k.a,{variant:"h6",className:e.title},"User: ",l&&l.metadata.first_name+" "+l.metadata.last_name),r.a.createElement(k.a,{variant:"h6",className:e.title},"Email: ",l&&l.metadata.email))))}var me=t(24),oe=t(251),ue=t(222),Ee=t(228),de=t(128),pe=t.n(de),he=t(127),ge=t.n(he),be=t(176),fe=t(229),ve=t(230),Oe=t(129),xe=t.n(Oe),ye=t(132),Ne=t.n(ye),je=t(133),Se=t.n(je),Ce=t(130),ke=t.n(Ce),we=t(131),Ie=t.n(we),Ae=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(A.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},link:{color:"inherit",textDecoration:"none"}}}));function _e(e){var a,t,n=Ae(),l=Object(me.a)();return r.a.createElement("div",{className:n.root},r.a.createElement(v.a,null),r.a.createElement(oe.a,{variant:"permanent",className:Object($.a)(n.drawer,(a={},Object(Y.a)(a,n.drawerOpen,e.open),Object(Y.a)(a,n.drawerClose,!e.open),a)),classes:{paper:Object($.a)((t={},Object(Y.a)(t,n.drawerOpen,e.open),Object(Y.a)(t,n.drawerClose,!e.open),t))}},r.a.createElement("div",{className:n.toolbar},r.a.createElement(ee.a,{onClick:e.handleDrawer},"rtl"===l.direction?r.a.createElement(ge.a,null):r.a.createElement(pe.a,null))),r.a.createElement(Ee.a,null),r.a.createElement(ue.a,null,P.hasRole("CHARACTER_ACCESS")&&r.a.createElement(u.b,{to:"/characters",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(J.a,null)),r.a.createElement(ve.a,{primary:"Characters"}))),P.hasRole("NPC_ACCESS")&&r.a.createElement(u.b,{to:"/npcs",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(xe.a,null)),r.a.createElement(ve.a,{primary:"NPCs"}))),P.hasRole("BESTIARY_ACCESS")&&r.a.createElement(u.b,{to:"/bestiary",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(ke.a,null)),r.a.createElement(ve.a,{primary:"Bestiary"}))),P.hasRole("MAP_ACCESS")&&r.a.createElement(u.b,{to:"/map",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(Ie.a,null)),r.a.createElement(ve.a,{primary:"Map"}))),P.hasRole("ALIGNMENT_ACCESS")&&r.a.createElement(u.b,{to:"/alignments",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(ve.a,{primary:"Alignments"}))),P.hasRole("INITIATIVE_ACCESS")&&r.a.createElement(u.b,{to:"/initiative",className:n.link},r.a.createElement(be.a,{button:!0},r.a.createElement(fe.a,null,r.a.createElement(Se.a,null)),r.a.createElement(ve.a,{primary:"Initiative Tracker"}))))))}var De=t(232),Re=t(236),Te=t(237),Pe=t(235),Be=t(256),We=t(233),ze=t(234),Fe=(t(49),t(51),t(50),t(48),t(44)),Le=t(231);function Me(){var e=Object(me.a)();return Object(Fe.a)(e.breakpoints.keys).reverse().reduce((function(a,t){var n=Object(Le.a)(e.breakpoints.up(t));return!a&&n?t:a}),null)||"xs"}var Ue=Object(w.a)({root:{display:"flex",maxWidth:"80%",margin:"6rem 4rem",justifyContent:"center"},table:{width:"100%"},avatar:{width:"20%",height:"20%"},link:{color:"inherit",textDecoration:"none"},smallCell:{width:"2rem"}});Object(w.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function qe(){var e=Ue(),a=Object(n.useState)([]),t=Object(g.a)(a,2),l=t[0],i=t[1],c=r.a.useState(0),s=Object(g.a)(c,2),m=s[0],o=s[1],E=r.a.useState(5),d=Object(g.a)(E,2),p=d[0],h=d[1],b=Me();Object(n.useEffect)((function(){B.getKey("base_url");B.fetchInternal("/characters").then((function(e){return i(e)}))}),[]);return r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(K.a,{variant:"outlined"},r.a.createElement(De.a,{className:e.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{className:e.smallCell})),r.a.createElement(Pe.a,null,"Nombre"))),r.a.createElement(Re.a,null,l.length>0&&l.slice(m*p,m*p+p).map((function(a){return r.a.createElement(ze.a,{component:u.b,to:"/characters/"+a._id,className:e.link},"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{className:e.smallCell},r.a.createElement("div",{style:{backgroundImage:"url(".concat(a.character[0].image_url,")"),width:"5vw",height:"5vw",backgroundSize:"cover"}}))),r.a.createElement(Pe.a,null,a.character[0].character_name))}))),r.a.createElement(Te.a,null,r.a.createElement(ze.a,null,r.a.createElement(Be.a,{rowsPerPageOptions:15,colspan:12,count:l.length,rowsPerPage:p,page:m,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),o(0)}}))))))}var He=t(102),Ve=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",alignItems:"center",height:"100%"},info:{margin:"0 1rem"},stat:{textAlign:"center",display:"flex",flexDirection:"column",maxWidth:"20%",alignItems:"center"},link:{color:"inherit",textDecoration:"none"},buttonFont:{fontSize:".7rem"},button:{padding:".3rem"},input:{padding:"0px 14px",width:"100%",margin:".5rem"}});function Ge(e){var a=Ve(),t=e.name,l=e.image,i=e.race,c=e.subrace,s=e.alignment,m=e.background,o=e.charClass;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(b.a,{alt:t,src:l}),r.a.createElement(j.a,{className:a.info},r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},t)),r.a.createElement(j.a,null,c+" "+i+","," "+m+" "+s+", ",o.map((function(e){return r.a.createElement("span",null," "+e["class-name"]+" "+e["class-level"])}))),r.a.createElement(j.a,null))))}var Ke=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",height:"100%"},stat:{margin:"0 2rem",textAlign:"center"},statBox:{display:"flex"},link:{color:"inherit",textDecoration:"none"}});function Ze(e){var a=Ke(),t=["FUE","DES","CONST","INT","SAB","CAR"];return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:e.stats.abilities&&"outlined",elevation:e.stats.abilities?1:0,className:a.paper},e.stats.abilities?Object.keys(e.stats.abilities).map((function(n,l){return r.a.createElement("span",{className:a.statBox,key:l},r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},t[l].toUpperCase()),r.a.createElement(k.a,{variant:"h6"},e.stats.abilities&&e.stats.abilities[n]),r.a.createElement(k.a,{variant:"subtitle1"},e.stats.bonuses&&e.stats.bonuses[n])),l+1!==Object.keys(e.stats.abilities).length&&r.a.createElement(Ee.a,{orientation:"vertical",flexItem:!0}))})):Object.keys(e.stats.abilityScores).map((function(n,l){return r.a.createElement("span",{className:a.statBox,key:l},r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},t[l].toUpperCase()),r.a.createElement(k.a,{variant:"h6"},e.stats.abilityScores&&e.stats.abilityScores[n]),r.a.createElement(k.a,{variant:"subtitle1"},e.stats.abilityScoreModifiers&&e.stats.abilityScoreModifiers[n])),l+1!==Object.keys(e.stats.abilityScores).length&&r.a.createElement(Ee.a,{orientation:"vertical",flexItem:!0}))}))))}var Je=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"}});function Ye(e){var a=Je();return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"BONO DE"),r.a.createElement(k.a,{variant:"h6"},e.proficiency),r.a.createElement(k.a,{variant:"subtitle2"},"PROF."))))}var $e=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"}});function Xe(e){var a=$e();return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"VELOCIDAD"),r.a.createElement(k.a,{variant:"h6"},e.speed+"'"),r.a.createElement(k.a,{variant:"subtitle2"},"CAMINADO"))))}var Qe=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"100%"},stat:{textAlign:"center",display:"flex",flexDirection:"column",maxWidth:"20%",alignItems:"center"},link:{color:"inherit",textDecoration:"none"},buttonFont:{fontSize:".7rem"},button:{padding:".3rem"},input:{padding:"0px 14px",width:"100%",margin:".5rem"}});function ea(e){var a=Qe(),t=Me();return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},"xs"!==t&&r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(f.a,{variant:"contained",color:"secondary",className:a.button},r.a.createElement(k.a,{className:a.buttonFont},"CURAR")),r.a.createElement("input",{className:a.input}),r.a.createElement(f.a,{variant:"contained",color:"secondary",className:a.button},r.a.createElement(k.a,{className:a.buttonFont},"DA\xd1AR"))),r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"ACTUALES"),r.a.createElement(k.a,{variant:"h6"},e.hp.hp_current?e.hp.hp_current:e.hp.hp_max)),r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"M\xc1X"),r.a.createElement(k.a,{variant:"h6"},e.hp.hp_max)),r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"TEMP"),r.a.createElement(k.a,{variant:"h6"},e.hp.hp_temp?e.hp.hp_temp:"-"))))}var aa=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"}});function ta(e){var a=aa();return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(j.a,{component:"span",className:a.stat},r.a.createElement(k.a,{variant:"subtitle2"},"CLASE DE"),r.a.createElement(k.a,{variant:"h6"},e.ac),r.a.createElement(k.a,{variant:"subtitle2"},"ARMADURA"))))}var na=t(247),ra=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"},smallCell:{width:"2rem"},box:{margin:"1rem"}});function la(e){var a=ra(),t=Me();return Object(n.useEffect)((function(){}),[]),r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(De.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,r.a.createElement(Pe.a,{align:"left"},"Nombre"),r.a.createElement(Pe.a,{align:"right"},"\xbfProficiente?"),"xs"!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{align:"center"},"Bonus"),r.a.createElement(Pe.a,{align:"left"},"Da\xf1o")))),r.a.createElement(Re.a,null,e.attacks["weapons-attacks"].map((function(e,n){return r.a.createElement(ze.a,{key:n},r.a.createElement(Pe.a,null,e.name),r.a.createElement(Pe.a,{align:"center",size:"small",padding:"none",className:a.smallCell},r.a.createElement(na.a,{checked:e.proficient,size:"small",disabled:!0})),"xs"!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{align:"center",size:"small",padding:"none",className:a.smallCell},e["hit-bonus"]),r.a.createElement(Pe.a,null,e.range+", "+e["damage-die"]+(e["damage-bonus"]>=0?"+":"")+e["damage-bonus"]+" "+e.type)))})))),r.a.createElement(j.a,{className:a.box},r.a.createElement(k.a,{variant:"subtitle2"},"N\xfamero de ataques: "+e.attacks["num-attacks"])))}var ia=Object(w.a)({root:{height:"100%"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"},smallCell:{width:"2rem"}});function ca(e){var a=ia(),t=["Fuerza","Destreza","Constituci\xf3n","Inteligencia","Sabidur\xeda","Carisma"];return Object(n.useEffect)((function(){}),[]),r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(De.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,r.a.createElement(Pe.a,null),r.a.createElement(Pe.a,{align:"left"},"Tipo"),r.a.createElement(Pe.a,{align:"right"},"Bonus"))),r.a.createElement(Re.a,null,Object.keys(e.saving).map((function(n,l){return r.a.createElement(ze.a,{key:l},r.a.createElement(Pe.a,{size:"small",padding:"none",className:a.smallCell},r.a.createElement(na.a,{checked:e.saving[n].proficient,size:"small",disabled:!0})),r.a.createElement(Pe.a,null,t[l]),r.a.createElement(Pe.a,{align:"right"},e.saving[n].bonus))})))))}var sa=Object(w.a)({root:{height:"100%"},paper:{margin:"0 .5rem",padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"},smallCell:{width:"2rem"}});function ma(e){var a=sa();return Object(n.useEffect)((function(){}),[]),r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(De.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,r.a.createElement(Pe.a,null),r.a.createElement(Pe.a,{align:"left"},"Tipo"),r.a.createElement(Pe.a,{align:"right"},"Bonus"))),r.a.createElement(Re.a,null,Object.keys(e.skills).map((function(t,n){return r.a.createElement(ze.a,{key:n},r.a.createElement(Pe.a,{size:"small",padding:"none",className:a.smallCell},r.a.createElement(na.a,{checked:e.skills[t].proficient,size:"small",disabled:!0})),r.a.createElement(Pe.a,null,e.skills[t].name),r.a.createElement(Pe.a,{align:"right"},e.skills[t].bonus))})))))}var oa=Object(w.a)({root:{width:"100%"},container:{maxWidth:"45vw"},link:{color:"inherit",textDecoration:"none"},flexGrid:{display:"flex",width:"100%"}});function ua(e){var a=oa(),t=e.character;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{container:!0,spacing:1},r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(Ze,{stats:t.abilities_bonuses[0]})),r.a.createElement(N.a,{item:!0,xs:12,sm:4,md:2},r.a.createElement(Ye,{proficiency:t.proficiency_bonus})),r.a.createElement(N.a,{item:!0,xs:12,sm:4,md:2},r.a.createElement(Xe,{speed:t.characteristics[0].speed})),r.a.createElement(N.a,{item:!0,xs:12,sm:4,md:2},r.a.createElement(ta,{ac:t.ac})),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(ea,{hp:t.hp})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(la,{attacks:t.attacks})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(ca,{saving:t.save_bonuses}))),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,container:!0,direction:"row"},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(ma,{skills:t.skills}))))))}var Ea=Object(w.a)({root:{width:"100%"},paper:{margin:0,padding:"1rem",height:"100%"},stat:{margin:"0 1.5rem"},link:{color:"inherit",textDecoration:"none"},img:{width:"100%"},trait:{marginLeft:"1rem"}});function da(e){var a=Ea(),t=e.character;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{container:!0,spacing:1},r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(k.a,{variant:"subtitle2"},"Rasgos de Personalidad."),r.a.createElement(j.a,{className:a.trait},t.personality_trait_1+t.personality_trait_2),r.a.createElement(k.a,{variant:"subtitle2"},"Ideales."),r.a.createElement(j.a,{className:a.trait},t.ideals),r.a.createElement(k.a,{variant:"subtitle2"},"V\xednculos."),r.a.createElement(j.a,{className:a.trait},t.bonds),r.a.createElement(k.a,{variant:"subtitle2"},"Defectos."),r.a.createElement(j.a,{className:a.trait},t.flaws),r.a.createElement(k.a,{variant:"subtitle2"},"Historia."),r.a.createElement(j.a,{className:a.trait},t.character_backstory))),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(k.a,{variant:"subtitle2"},"Rasgos f\xedsicos."),r.a.createElement(N.a,{container:!0,spacing:1},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Edad. "),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.age)),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"G\xe9nero. "),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.sex)),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Altura. "),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.height)),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Peso."),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.weight)),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Ojos."),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait}),t.eyes),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Pelo."),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.hair)),r.a.createElement(j.a,{className:a.trait},r.a.createElement(k.a,{display:"inline",variant:"subtitle2"},"Piel."),r.a.createElement(k.a,{display:"inline",variant:"subtitle4",className:a.trait},t.skin))),r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement("img",{className:a.img,src:e.img})))))))}var pa=Object(w.a)({root:{width:"100%"},paper:{margin:0,padding:"1rem",height:"100%"},action:{margin:"1rem 0"},link:{color:"inherit",textDecoration:"none"}});function ha(e){var a=pa();e.character;return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(j.a,{component:"div",className:a.stat},e.features&&e.features.bonus_actions&&e.features.bonus_actions.map((function(e){return r.a.createElement(j.a,{className:a.action},e.replace(/\n/g,r.a.createElement("br",null)))}))),r.a.createElement(j.a,{component:"div",className:a.stat},e.features&&e.features.other_traits&&e.features.other_traits.map((function(e){return r.a.createElement(j.a,{className:a.action},e.replace(/\n/g,r.a.createElement("br",null)))})))))}var ga=t(239),ba=t(245),fa=t(238),va=Object(w.a)({container:{width:"100%"},table:{width:"100%"},avatar:{borderRadius:10,width:"4rem"}});function Oa(e){var a=va(),t=Object(n.useState)([]),l=Object(g.a)(t,2),i=l[0],c=l[1],s=Object(n.useState)([]),m=Object(g.a)(s,2),o=m[0],u=m[1],E=Object(n.useState)(),d=Object(g.a)(E,2),b=d[0],f=d[1],v=Object(n.useState)([]),O=Object(g.a)(v,2),x=O[0],N=O[1],S=Me();function C(e){var a=e.children,t=e.value,n=e.index,l=Object(He.a)(e,["children","value","index"]);return r.a.createElement(k.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),t===n&&r.a.createElement(j.a,{p:3},a))}Object(n.useEffect)((function(){B.getKey("base_url");var a=[],t=[];Object.keys(e.items).forEach((function(a){e.items[a]&&t.push(a)})),u(t),t.forEach((function(t){return e.items[t].forEach((function(e){return e.id&&a.push(e.id)}))})),f(0),B.fetchInternal("/items",{method:"POST",body:JSON.stringify(a)}).then(function(){var a=Object(h.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=[],t.forEach((function(a){e.items[a].forEach((function(e){var a={equipped:!!e["equipped?"]&&e["equipped?"],quantity:e.quantity?e.quantity:0,data:n.filter((function(a){return a._id===e.id}))[0]};r.push(a)}))})),c(r),N(r.filter((function(e){return e.data.type===t[0]})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}),[]);return r.a.createElement("div",{className:a.container},r.a.createElement(K.a,null,r.a.createElement(ba.a,{variant:"scrollable",value:b,onChange:function(e,a){f(a),N(i.filter((function(e){return e.data.type===o[a]})))},"aria-label":"simple tabs example"},o.map((function(e,a){return r.a.createElement(fa.a,Object.assign({key:a,label:e},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(e)))}))),o.map((function(e,a){return r.a.createElement(C,{key:a,value:e,index:a},e)})),x.length>0&&r.a.createElement(ga.a,{component:K.a},r.a.createElement(De.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,"xs"!==S&&r.a.createElement(Pe.a,null),r.a.createElement(Pe.a,{align:"left"},"Name"),"xs"!==S&&"sm"!==S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{align:"left"},"Effect"),r.a.createElement(Pe.a,{align:"left"},"Description"),r.a.createElement(Pe.a,{align:"left"},"Equipped?"),r.a.createElement(Pe.a,{align:"left"},"Quantity")))),r.a.createElement(Re.a,null,x.map((function(e,t){return r.a.createElement(ze.a,{key:t},"xs"!==S&&r.a.createElement(Pe.a,{component:"th",scope:"row"},r.a.createElement("img",{src:e.data.image.small,className:a.avatar})),r.a.createElement(Pe.a,{align:"left"},e.data.name),"xs"!==S&&"sm"!==S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{align:"left"},e.data.effect),r.a.createElement(Pe.a,{align:"left"},e.data.description),r.a.createElement(Pe.a,{align:"left"},r.a.createElement(y.a,{checked:e.equipped})),r.a.createElement(Pe.a,{align:"right"},e.quantity)))})))))))}var xa=Object(w.a)({container:{maxWidth:"45vw"},link:{color:"inherit",textDecoration:"none"},flexGrid:{display:"flex",width:"100%"}});function ya(e){var a=xa(),t=Object(n.useState)(),l=Object(g.a)(t,2),i=l[0],c=l[1],s=Object(n.useState)(["Informaci\xf3n","Trasfondo","Rasgos","Raza","Objetos","Hechizos"]),m=Object(g.a)(s,2),o=m[0],u=(m[1],Object(n.useState)(0)),E=Object(g.a)(u,2),d=E[0],p=E[1];Object(n.useEffect)((function(){B.getKey("base_url"),e.match.params.id;B.fetchInternal("/characters").then((function(e){return c(e.character[0])}))}),[]);return r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:a.root},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{container:!0,spacing:1},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(Ge,{name:i.character_name,image:i.image_url,race:i.race,subrace:i.subrace,alignment:i.alignment,background:i.background,charClass:i.classes})),r.a.createElement(ba.a,{variant:"scrollable",value:d,onChange:function(e,a){p(a)},"aria-label":"simple tabs example"},o.map((function(e,a){return r.a.createElement(fa.a,Object.assign({key:a,label:e},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(e)))}))),function(){switch(d){case 0:return r.a.createElement(ua,{character:i});case 1:return r.a.createElement(da,{character:i.characteristics[0],img:i.image_url});case 2:return r.a.createElement(ha,{features:i.traits});case 4:return r.a.createElement(Oa,{items:i.equipment})}}()))))}var Na=t(257),ja=t(241),Sa=t(250),Ca=t(240),ka=t(45),wa=t.n(ka),Ia=t(72),Aa=t.n(Ia);function _a(){var e=Object(n.useState)(27),a=Object(g.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(0),c=Object(g.a)(i,2),s=c[0],m=c[1],o=Object(n.useState)(0),u=Object(g.a)(o,2),E=u[0],d=u[1],p=Object(n.useState)(0),h=Object(g.a)(p,2),b=h[0],v=h[1],x=Object(n.useState)(0),y=Object(g.a)(x,2),S=y[0],C=y[1],w=Object(n.useState)(0),I=Object(g.a)(w,2),A=I[0],_=I[1],D=Object(n.useState)(0),R=Object(g.a)(D,2),T=R[0],P=R[1],B=function(e,a){switch(a){case"str":(t>0||e<0)&&(l(t-e*(s>=5?2:1)),m(s+e));break;case"dex":(t>0||e<0)&&(l(t-e*(E>=5?2:1)),d(E+e));break;case"con":(t>0||e<0)&&(l(t-e*(b>=5?2:1)),v(b+e));break;case"int":(t>0||e<0)&&(l(t-e*(S>=5?2:1)),C(S+e));break;case"wis":(t>0||e<0)&&(l(t-e*(A>=5?2:1)),_(A+e));break;case"cha":(t>0||e<0)&&(l(t-e*(T>=5?2:1)),P(T+e))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6",inline:!0},"Character Stats \u2013 ",t>0?t:"\u2714"),r.a.createElement(k.a,{variant:"subtitle2",gutterBottom:!0},"Add your stat numbers with a point buy system.")),r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,md:4},"Strength",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+s<=8,"aria-label":"reduce",onClick:function(){B(-1,"str")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+s}),r.a.createElement(f.a,{disabled:8+s>=15,"aria-label":"increase",onClick:function(){B(1,"str")}},r.a.createElement(wa.a,{fontSize:"small"})))),r.a.createElement(N.a,{item:!0,md:4},"Dexterity",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+E<=8,"aria-label":"reduce",onClick:function(){B(-1,"dex")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+E}),r.a.createElement(f.a,{disabled:8+E>=15,"aria-label":"increase",onClick:function(){B(1,"dex")}},r.a.createElement(wa.a,{fontSize:"small"})))),r.a.createElement(N.a,{item:!0,md:4},"Constitution",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+b<=8,"aria-label":"reduce",onClick:function(){B(-1,"con")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+b}),r.a.createElement(f.a,{disabled:8+b>=15,"aria-label":"increase",onClick:function(){B(1,"con")}},r.a.createElement(wa.a,{fontSize:"small"})))),r.a.createElement(N.a,{item:!0,md:4},"Intelligence",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+S<=8,"aria-label":"reduce",onClick:function(){B(-1,"int")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+S}),r.a.createElement(f.a,{disabled:8+S>=15,"aria-label":"increase",onClick:function(){B(1,"int")}},r.a.createElement(wa.a,{fontSize:"small"})))),r.a.createElement(N.a,{item:!0,md:4},"Wisdom",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+A<=8,"aria-label":"reduce",onClick:function(){B(-1,"wis")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+A}),r.a.createElement(f.a,{disabled:8+A>=15,"aria-label":"increase",onClick:function(){B(1,"wis")}},r.a.createElement(wa.a,{fontSize:"small"})))),r.a.createElement(N.a,{item:!0,md:4},"Charisma",r.a.createElement(Ca.a,null,r.a.createElement(f.a,{disabled:8+T<=8,"aria-label":"reduce",onClick:function(){B(-1,"cha")}},r.a.createElement(Aa.a,{fontSize:"small"})),r.a.createElement(O.a,{disabled:!0,value:8+T}),r.a.createElement(f.a,{disabled:8+T>=15,"aria-label":"increase",onClick:function(){B(1,"cha")}},r.a.createElement(wa.a,{fontSize:"small"}))))))}var Da=t(260),Ra=t(221),Ta=t(248),Pa=Object(w.a)((function(e){return{formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}));function Ba(){var e=Pa(),a=Object(n.useState)([]),t=Object(g.a)(a,2),l=t[0],i=t[1],c=Object(n.useState)([]),s=Object(g.a)(c,2),m=s[0],o=s[1],u=Object(n.useState)(),E=Object(g.a)(u,2),d=E[0],p=E[1],h=Object(n.useState)(),b=Object(g.a)(h,2),f=b[0],v=b[1],x=Object(n.useState)(),y=Object(g.a)(x,2),j=y[0],S=(y[1],Array.from({length:20},(function(e,a){return a+1})));Object(n.useEffect)((function(){B.getKey("base_url");B.fetchInternal("/races").then((function(e){return i(e)})),B.fetchInternal("/classes").then((function(e){return o(e)}))}),[]);var C=function(e,a){switch(a){case"race":p(e.target.value);break;case"class":v(e.target.value)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h6",gutterBottom:!0},"Basic details"),r.a.createElement(k.a,{variant:"subtitle2",gutterBottom:!0},"Fill the details of your character, such as name, race and class."),r.a.createElement(N.a,{container:!0,spacing:3},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{required:!0,id:"name",name:"name",label:"Name",fullWidth:!0})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(Ra.a,{className:e.formControl},r.a.createElement(Da.a,{id:"demo-simple-select-label"},"Race"),r.a.createElement(Ta.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){return C(e,"race")}},l.length>0&&l.map((function(e){return r.a.createElement(ne.a,{value:e._id},e.name)}))))),r.a.createElement(N.a,{item:!0,xs:8,sm:4},r.a.createElement(Ra.a,{className:e.formControl},r.a.createElement(Da.a,{id:"demo-simple-select-label"},"Class"),r.a.createElement(Ta.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:function(e){return C(e,"class")}},m.length>0&&m.map((function(e){return r.a.createElement(ne.a,{value:e._id},e.name)}))))),r.a.createElement(N.a,{item:!0,xs:4,sm:2},r.a.createElement(Ra.a,{className:e.formControl},r.a.createElement(Da.a,{id:"demo-simple-select-label"},"Level"),r.a.createElement(Ta.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,onChange:function(e){return C(e,"level")}},S.map((function(e,a){return r.a.createElement(ne.a,{value:a+1},a+1)}))))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{id:"image",name:"image",label:"Portrait",fullWidth:!0})),d&&l.filter((function(e){return e._id===d}))[0].subraces&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(Ra.a,{className:e.formControl},r.a.createElement(Da.a,{id:"demo-simple-select-label"},"Subrace"),r.a.createElement(Ta.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:function(e){return C(e,"subrace")}},l.filter((function(e){return e._id===d}))[0].subraces.length>0&&l.filter((function(e){return e._id===d}))[0].subraces.map((function(e){return r.a.createElement(ne.a,{value:e},e)})))),r.a.createElement(N.a,{item:!0,xs:0,sm:6}))),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(O.a,{id:"image",name:"image",label:"Portrait",fullWidth:!0}))))}var Wa=[{name:"Product 1",desc:"A nice thing",price:"$9.99"},{name:"Product 2",desc:"Another thing",price:"$3.45"},{name:"Product 3",desc:"Something else",price:"$6.51"},{name:"Product 4",desc:"Best thing of all",price:"$14.11"},{name:"Shipping",desc:"",price:"Free"}],za=["1 Material-UI Drive","Reactville","Anytown","99999","USA"],Fa=[{name:"Card type",detail:"Visa"},{name:"Card holder",detail:"Mr John Smith"},{name:"Card number",detail:"xxxx-xxxx-xxxx-1234"},{name:"Expiry date",detail:"04/2024"}],La=Object(w.a)((function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:700},title:{marginTop:e.spacing(2)}}}));function Ma(){var e=La();return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h6",gutterBottom:!0},"Order summary"),r.a.createElement(ue.a,{disablePadding:!0},Wa.map((function(a){return r.a.createElement(be.a,{className:e.listItem,key:a.name},r.a.createElement(ve.a,{primary:a.name,secondary:a.desc}),r.a.createElement(k.a,{variant:"body2"},a.price))})),r.a.createElement(be.a,{className:e.listItem},r.a.createElement(ve.a,{primary:"Total"}),r.a.createElement(k.a,{variant:"subtitle1",className:e.total},"$34.06"))),r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(k.a,{variant:"h6",gutterBottom:!0,className:e.title},"Shipping"),r.a.createElement(k.a,{gutterBottom:!0},"John Smith"),r.a.createElement(k.a,{gutterBottom:!0},za.join(", "))),r.a.createElement(N.a,{item:!0,container:!0,direction:"column",xs:12,sm:6},r.a.createElement(k.a,{variant:"h6",gutterBottom:!0,className:e.title},"Payment details"),r.a.createElement(N.a,{container:!0},Fa.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.name},r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(k.a,{gutterBottom:!0},e.name)),r.a.createElement(N.a,{item:!0,xs:6},r.a.createElement(k.a,{gutterBottom:!0},e.detail)))}))))))}var Ua=Object(w.a)((function(e){return{layout:Object(Y.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:"60%",marginLeft:"auto",marginRight:"auto",marginTop:"6rem"}),paper:Object(Y.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),qa=["Details","Stats","Review your order"];function Ha(){var e=Ua(),a=r.a.useState(0),t=Object(g.a)(a,2),n=t[0],l=t[1];return r.a.createElement(W.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(v.a,null),r.a.createElement("main",{className:e.layout},r.a.createElement(K.a,{variant:"outlined",className:e.paper},r.a.createElement(k.a,{component:"h1",variant:"h4",align:"center"},"CREA UN PERSONAJE"),r.a.createElement(Na.a,{activeStep:n,className:e.stepper},qa.map((function(e){return r.a.createElement(ja.a,{key:e},r.a.createElement(Sa.a,null,e))}))),r.a.createElement(r.a.Fragment,null,n===qa.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),r.a.createElement(k.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped.")):r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(Ba,null);case 1:return r.a.createElement(_a,null);case 2:return r.a.createElement(Ma,null);default:throw new Error("Unknown step")}}(n),r.a.createElement("div",{className:e.buttons},0!==n&&r.a.createElement(f.a,{onClick:function(){l(n-1)},className:e.button},"Back"),r.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){l(n+1)},className:e.button},n===qa.length-1?"Place order":"Next")))))))}var Va=t(252),Ga=Object(w.a)({block:{width:"20%",height:"20%",padding:"2rem",textAlign:"center",position:"relative",borderWidth:"1px",borderStyle:"dashed",borderColor:"#ccc"},characterContainer:{position:"absolute",top:0,left:0,fontSize:".8rem",margin:".2rem"}});function Ka(e){var a=Ga();Object(n.useEffect)((function(){}),[]);return r.a.createElement("td",{onClick:function(){return e.changeAlignment(null,e.alignment)},className:a.block},r.a.createElement("div",{className:a.characterContainer},e.characters.filter((function(a){return a.alignment===e.alignment.stat})).map((function(e){return r.a.createElement("div",null,e.name)}))),e.alignment&&e.alignment.friendlyName)}var Za=Object(w.a)({root:{display:"flex"},paper:{margin:0,padding:"1rem",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},stat:{margin:"0 1.5rem",textAlign:"center"},link:{color:"inherit",textDecoration:"none"}});function Ja(e){Za();Object(n.useEffect)((function(){}),[]);return r.a.createElement("tr",null,e.alignments.map((function(a,t){return r.a.createElement(Ka,{key:t,characters:e.characters,alignment:a,row:e.row,column:t,changeAlignment:e.changeAlignment})})))}var Ya=Object(w.a)({root:{maxWidth:"80%"},paper:{padding:"2rem"},table:{width:"80%",height:"80%",margin:"0 auto",borderCollapse:"collapse"}});function $a(e){var a=this,t=Ya(),l=Object(n.useState)(),i=Object(g.a)(l,2),c=i[0],s=i[1],m=Object(n.useState)(),o=Object(g.a)(m,2),u=o[0],E=o[1],d=Object(n.useState)(),p=Object(g.a)(d,2),h=p[0],b=p[1];Object(n.useEffect)((function(){B.fetchInternal("/characters").then((function(e){var a=[];e.forEach((function(e){a.push({name:e.character[0].character_name,alignment:e.character[0].alignment_stat})})),s(a)})),B.fetchInternal("/alignments").then((function(e){b(e.simple)}))}),[]);var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0,t=e||u;t.alignment=a.stat;var n=c.findIndex((function(e){return e.name===t.name})),r=c;r[n]=t,s(Object(Fe.a)(r))};return r.a.createElement(W.a,{direction:"up",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:t.root},r.a.createElement(K.a,{className:t.paper},r.a.createElement("table",{className:t.table,cellspacing:"0"},r.a.createElement("tbody",null,c&&h&&h.map((function(e,t){return r.a.createElement(Ja,{key:t,characters:c,row:t,alignments:e,changeAlignment:f.bind(a)})})))),r.a.createElement("div",null,r.a.createElement(Va.a,{"aria-label":"Characters",name:"Characters",value:u,onChange:function(e){var a=c.findIndex((function(a){return a.name===e.target.value}));E(c[a])}},c&&c.map((function(e){return r.a.createElement(x.a,{value:e.name,control:r.a.createElement(na.a,null),label:e.name})})))))))}var Xa=t(253),Qa=t(242),et=t(243),at=(t(124),function(e){Object(m.a)(n,e);var a=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={lat:60.505,lng:46.155,zoom:5,minZoom:5,maxZoom:12,bounds:[[0,0],[3e3,100]]},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;B.getKey("base_url");B.fetchInternal("/locations").then((function(a){return e.setState({locations:a})}))}},{key:"render",value:function(){var e=this,a=[this.state.lat,this.state.lng],n=t(25).icon({iconUrl:"assets/img/Untitled-1.svg",iconSize:[64,64],iconAnchor:[32,32],popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null});return r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement(K.a,{variant:"outlined",style:{height:"100vh",padding:"1rem"}},this.state.locations&&r.a.createElement(Xa.a,{center:a,zoom:this.state.zoom,minZoom:this.state.minZoom,maxZoom:this.state.maxZoom,style:{height:"100%",width:"100%"},maxBounds:this.state.bounds},r.a.createElement("img",{src:"assets/img/Lierno Apr29 14-07.svg"}),r.a.createElement(Qa.a,{bounds:[[0,0],[3e3,100]],url:"assets/img/Lierno Apr29 14-07.svg"}),this.state.locations.map((function(a,t){return r.a.createElement(et.a,{icon:n,position:[a.mapStats.coordinates.lat,a.mapStats.coordinates.lng],onClick:function(){return e.props.history.push("/location/"+a._id)}})})))))}}]),n}(n.Component)),tt=t(258),nt=Object(w.a)((function(e){return{root:{flexGrow:1},profileBox:{padding:"1rem",height:"100%"},title:{display:"flex",alignItems:"center"},link:{color:"inherit",display:"flex"},divider:{maxWidth:"50%",margin:"1rem auto"},fullWidthDivier:{margin:".5rem 0"},bold:{fontWeight:600},image:{maxHeight:"50vh",maxWidth:"100%",display:"block",margin:"0 auto"}}}));function rt(e){var a=nt(),t=Object(n.useState)(),l=Object(g.a)(t,2),i=l[0],c=l[1],s=["Localizaci\xf3n","Tipo","Poblaci\xf3n","L\xedderes","Religi\xf3n","Fuerzas militares","Descripci\xf3n"];return Object(n.useEffect)((function(){B.getKey("base_url"),e.match.params.id;B.fetchInternal("/location/"+e.match.params.id).then((function(e){return c(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:a.root},i&&r.a.createElement(N.a,{container:!0,spacing:1,style:{alignItems:"stretch"}},i.flavor.layers&&r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement(Xa.a,{center:i.mapStats.center,bounds:i.mapStats.bounds,zoom:i.mapStats.zoom,minZoom:i.mapStats.zoom.minZoom,maxZoom:i.mapStats.zoom.maxZoom,style:{height:"100vh",width:"100%",backgroundColor:"#ccc5a3"}},r.a.createElement(tt.a,{position:"topright"},i.flavor.layers&&i.flavor.layers.map((function(e){return r.a.createElement(tt.a.BaseLayer,{name:e.name,checked:!0},r.a.createElement(Qa.a,{bounds:i.mapStats.bounds,url:e.url}))})))))),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:i.flavor.layers?6:8,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement(k.a,{variant:"h6"},i.name),i.flavor.subtitle&&r.a.createElement(k.a,{variant:"subtitle1"},i.flavor.subtitle),r.a.createElement("img",{className:a.image,src:i.flavor.banner}),Object.keys(i.flavor.information).map((function(e,a){return Array.isArray(i.flavor.information[e])?i.flavor.information[e].map((function(e){return r.a.createElement(j.a,{component:"p"},e)})):r.a.createElement(j.a,{component:"div"},s[a]+": "+i.flavor.information[e])})))))))}var lt=t(134),it=t.n(lt),ct=t(135),st=t.n(ct),mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Math.floor(Math.random()*a)+e},ot=Object(w.a)({root:{height:"100%"},paper:{margin:"1rem 0",padding:"1rem",height:"100%"},input:{margin:"0 1rem"},link:{color:"inherit",textDecoration:"none"},smallCell:{width:"10%"},table:{width:"100%"}});function ut(e){var a=ot(),t=Object(n.useState)([]),l=Object(g.a)(t,2),i=l[0],c=l[1],s=Object(n.useState)(""),m=Object(g.a)(s,2),o=m[0],u=m[1],E=Object(n.useState)(""),d=Object(g.a)(E,2),p=d[0],h=d[1],b=Object(n.useState)(""),v=Object(g.a)(b,2),x=v[0],y=v[1],N=Object(n.useState)(""),S=Object(g.a)(N,2),C=S[0],k=S[1],w=Object(n.useState)([]),I=Object(g.a)(w,2),A=I[0],_=I[1],D=Me();function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var a={name:e.character_name,ac:e.ac,initiative:p||mt()+e.initiative_bonus,hp:x||(e.hp.hp_current?e.hp.hp_current:e.hp.hp_max)};0===i.length&&c([a])}else{var t={name:o,ac:C,initiative:p,hp:x};if(0===i.length)c([t]);else{var n=Object(Fe.a)(i);n.push(t),n.sort((function(e,a){return parseInt(e.initiative)>parseInt(a.initiative)?-1:1})),c(n)}}}return Object(n.useEffect)((function(){B.getKey("base_url");B.fetchInternal("/characters").then((function(e){return _(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:a.root},r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(j.a,{className:a.box},r.a.createElement(De.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,r.a.createElement(Pe.a,null,"Name"),r.a.createElement(Pe.a,null,"AC"),r.a.createElement(Pe.a,{align:"center"},"Initiative"),r.a.createElement(Pe.a,{align:"center"},"HP"),r.a.createElement(Pe.a,null))),r.a.createElement(Re.a,null,A&&A.map((function(e,t){return r.a.createElement(ze.a,{key:t},r.a.createElement(Pe.a,null,e.character[0].character_name),r.a.createElement(Pe.a,null,e.character[0].ac),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{onChange:function(e){return h(e.target.value)},className:a.input,placeholder:"xs"!==D&&"sm"!==D&&e.character[0].initiative_bonus.toString(),id:"initiative",name:"initiative",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{onChange:function(e){return y(e.target.value)},className:a.input,defaultValue:e.character[0].hp.hp_current?e.character[0].hp.hp_current:e.character[0].hp.hp_max,id:"initiative",name:"initiative",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,null,r.a.createElement(f.a,{onClick:function(){return R(e.character[0])}},"xs"!==D&&"sm"!==D?"ADD COMBATANT":r.a.createElement(wa.a,null))))})),r.a.createElement(ze.a,null,r.a.createElement(Pe.a,null,r.a.createElement(O.a,{onChange:function(e){return u(e.target.value)},label:"xs"!==D&&"sm"!==D&&"Name",id:"name",name:"name",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{onChange:function(e){return k(e.target.value)},label:"xs"!==D&&"sm"!==D&&"AC",id:"ac",name:"ac",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{onChange:function(e){return h(e.target.value)},label:"xs"!==D&&"sm"!==D&&"Init",id:"init",name:"init",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{onChange:function(e){return y(e.target.value)},label:"xs"!==D&&"sm"!==D&&"HP",id:"hp",name:"hp",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,null,r.a.createElement(f.a,{onClick:function(){return R(null)}},"xs"!==D&&"sm"!==D?"ADD CUSTOM COMBATANT":r.a.createElement(wa.a,null)))))))),i.length>0&&r.a.createElement(K.a,{variant:"outlined",className:a.paper},r.a.createElement(f.a,{onClick:function(){var e=Object(Fe.a)(i);e.push(e.shift()),c(Object(Fe.a)(e))}},"Next turn",r.a.createElement(it.a,null)),r.a.createElement(De.a,{className:a.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,r.a.createElement(Pe.a,null,"Name"),r.a.createElement(Pe.a,null,"AC"),r.a.createElement(Pe.a,null,"Initiative"),r.a.createElement(Pe.a,null,"HP"),r.a.createElement(Pe.a,null,"Notes"),r.a.createElement(Pe.a,null))),r.a.createElement(Re.a,null,i.map((function(e,t){return r.a.createElement(ze.a,{key:t},r.a.createElement(Pe.a,null,e.name),r.a.createElement(Pe.a,{className:a.smallCell},e.ac),r.a.createElement(Pe.a,{className:a.smallCell},e.initiative),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(O.a,{defaultValue:e.hp,variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,null,r.a.createElement(O.a,{id:"outlined-multiline-static",label:"Notes",variant:"outlined",fullWidth:!0})),r.a.createElement(Pe.a,{className:a.smallCell},r.a.createElement(f.a,{onClick:function(){return function(e){var a=Object(Fe.a)(i);a.splice(e,1),c(Object(Fe.a)(a))}(t)}},r.a.createElement(st.a,null))))})))))))}var Et=Object(w.a)((function(e){return{root:{flexGrow:1},table:{width:"100%"},avatar:{width:"20%",height:"20%"},link:{color:"inherit",textDecoration:"none"}}}));Object(w.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function dt(){var e=Et(),a=Object(n.useState)([]),t=Object(g.a)(a,2),l=t[0],i=t[1],c=r.a.useState(0),s=Object(g.a)(c,2),m=s[0],o=s[1],E=r.a.useState(5),d=Object(g.a)(E,2),p=d[0],h=d[1],b=Me();return Object(n.useEffect)((function(){B.fetchInternal("/bestiary").then((function(e){return i(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:e.root},r.a.createElement(K.a,{variant:"outlined",className:e.profileBox},r.a.createElement(De.a,{className:e.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null)),r.a.createElement(Pe.a,null,"Nombre"),"xs"!==b&&"sm"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,"Desaf\xedo"),r.a.createElement(Pe.a,null,"Descripci\xf3n")))),r.a.createElement(Re.a,null,l.length>0&&l.sort((function(e,a){return e.stats.challengeRating>a.stats.challengeRating?1:-1})).slice(m*p,m*p+p).map((function(a){return r.a.createElement(ze.a,{component:u.b,to:"/bestiary/"+a._id,className:e.link},"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,r.a.createElement("div",{style:{backgroundImage:"url(".concat(a.flavor.imageUrl,")"),width:"5vw",height:"5vw",backgroundSize:"cover"}}))),r.a.createElement(Pe.a,null,a.name),"xs"!==b&&"sm"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,a.stats.challengeRatingStr),r.a.createElement(Pe.a,null,a.flavor.description)))}))),r.a.createElement(Te.a,null,r.a.createElement(ze.a,null,r.a.createElement(Be.a,{rowsPerPageOptions:15,colspan:12,count:l.length,rowsPerPage:p,page:m,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),o(0)}})))))))}var pt=t(101),ht=t.n(pt),gt=Object(w.a)((function(e){return{root:{flexGrow:1},profileBox:{padding:"1rem",height:"100%"},title:{display:"flex",alignItems:"center"},link:{color:"inherit",display:"flex"},divider:{maxWidth:"50%",margin:"1rem auto"},fullWidthDivier:{margin:".5rem 0"},bold:{fontWeight:600},image:{height:"65vh",maxWidth:"100%",display:"block",margin:"0 auto"}}}));function bt(e){var a=gt(),t=Object(n.useState)(),l=Object(g.a)(t,2),i=l[0],c=l[1];return Object(n.useEffect)((function(){B.fetchInternal("/bestiary/"+e.match.params.id).then((function(e){return c(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:a.root},i&&r.a.createElement(N.a,{container:!0,spacing:1,style:{alignItems:"stretch"}},r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h5",className:a.title},r.a.createElement(u.c,{to:"/bestiary",className:a.link},r.a.createElement(ht.a,null)),r.a.createElement(j.a,{component:"span",style:{height:"100%"}},i.name)),r.a.createElement(k.a,{variant:"subheader2"},i.stats.size+" "+i.stats.race+", "+i.stats.alignment)),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Armor: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.armorClass+(i.stats.armorType&&" ("+i.stats.armorType+")"))),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Hit Points: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.hitPointsStr)),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Speed: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.speed))),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(Ze,{stats:i.stats}),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Senses: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.senses.map((function(e,a){return r.a.createElement(j.a,{component:"span"},e,i.stats.senses.length!==a+1&&", ")})))),i.stats.damageVulnerabilities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Vulnerabilities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageVulnerabilities.map((function(e,a){return r.a.createElement(j.a,{component:"span"},e,i.stats.damageVulnerabilities.length!==a+1&&", ")})))),i.stats.damageResistances.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Resistances: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageResistances.map((function(e,a){return r.a.createElement(j.a,{component:"span"},e,i.stats.damageResistances.length!==a+1&&", ")})))),i.stats.damageImmunities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Immunities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageImmunities.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})))),i.stats.conditionImmunities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Condition Immunities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.conditionImmunities.map((function(e,a){return r.a.createElement(j.a,{component:"span"},e,i.stats.conditionImmunities.length!==a+1&&", "," ")})))),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Languages: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.languages.length>0?i.stats.languages.map((function(e,a){return r.a.createElement(j.a,{component:"span"},e,i.stats.languages.length!==a+1&&", ")})):"\u2013")),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Challenge: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.challengeRatingStr))),r.a.createElement(Ee.a,{className:a.divider}),i.stats.additionalAbilities.length>0&&r.a.createElement(j.a,null,r.a.createElement(j.a,null,i.stats.additionalAbilities.map((function(e){return r.a.createElement(j.a,{component:"p"},r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},"Actions"),r.a.createElement(Ee.a,{className:a.fullWidthDivier}),r.a.createElement(j.a,null,i.stats.actions.map((function(e){return r.a.createElement(j.a,{component:"p"},r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),i.stats.reactions.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},"Reactions"),r.a.createElement(j.a,null,i.stats.reactions.map((function(e){return r.a.createElement(j.a,{component:"p"},r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),i.stats.legendaryActions.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},"Legendary Actions"),r.a.createElement(Ee.a,null),r.a.createElement(j.a,null,i.stats.legendaryActionsDescription),r.a.createElement(j.a,null,i.stats.legendaryActions.map((function(e){return r.a.createElement(j.a,{component:"p"},r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))}))))))),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement("img",{className:a.image,src:i.flavor.imageUrl}),i.flavor.description)))))}var ft=Object(w.a)((function(e){return{root:{flexGrow:1},table:{width:"100%"},avatar:{width:"20%",height:"20%"},link:{color:"inherit",textDecoration:"none"}}}));Object(w.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function vt(){var e=ft(),a=Object(n.useState)([]),t=Object(g.a)(a,2),l=t[0],i=t[1],c=r.a.useState(0),s=Object(g.a)(c,2),m=s[0],o=s[1],E=r.a.useState(5),d=Object(g.a)(E,2),p=d[0],h=d[1],b=Me();return Object(n.useEffect)((function(){B.getKey("base_url");B.fetchInternal("/npc").then((function(e){return i(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:e.root},r.a.createElement(K.a,{variant:"outlined",className:e.profileBox},r.a.createElement(De.a,{className:e.table},r.a.createElement(We.a,null,r.a.createElement(ze.a,null,"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null)),r.a.createElement(Pe.a,null,"Nombre"),"xs"!==b&&"sm"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,"Descripci\xf3n")))),r.a.createElement(Re.a,null,l.length>0&&l.sort((function(e,a){return e.stats.challengeRating>a.stats.challengeRating?1:-1})).slice(m*p,m*p+p).map((function(a){return r.a.createElement(ze.a,{component:u.b,to:"/npc/"+a._id,className:e.link},"xs"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,r.a.createElement("div",{style:{backgroundImage:"url(".concat(a.flavor.imageUrl,")"),width:"5vw",height:"5vw",backgroundSize:"cover"}}))),r.a.createElement(Pe.a,null,a.name),"xs"!==b&&"sm"!==b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,null,a.flavor.description)))}))),r.a.createElement(Te.a,null,r.a.createElement(ze.a,null,r.a.createElement(Be.a,{rowsPerPageOptions:15,colspan:12,count:l.length,rowsPerPage:p,page:m,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),o(0)}})))))))}var Ot=Object(w.a)((function(e){return{root:{flexGrow:1},profileBox:{padding:"1rem",height:"100%"},title:{display:"flex",alignItems:"center"},link:{color:"inherit",display:"flex"},divider:{maxWidth:"50%",margin:"1rem auto"},fullWidthDivier:{margin:".5rem 0"},bold:{fontWeight:600},image:{height:"65vh",maxWidth:"100%",display:"block",margin:"0 auto"}}}));function xt(e){var a=Ot(),t=Object(n.useState)(),l=Object(g.a)(t,2),i=l[0],c=l[1];return Object(n.useEffect)((function(){B.getKey("base_url"),e.match.params.id;B.fetchInternal("/npc").then((function(e){return c(e)}))}),[]),r.a.createElement(W.a,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:a.root},i&&r.a.createElement(N.a,{container:!0,spacing:1,style:{alignItems:"stretch"}},r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h5",className:a.title},r.a.createElement(u.c,{to:"/npcs",className:a.link},r.a.createElement(ht.a,null)),r.a.createElement(j.a,{component:"span",style:{height:"100%"}},i.name)),r.a.createElement(k.a,{variant:"subheader2"},i.flavor.gender+" "+i.stats.race+", "+i.stats.alignment+" "+i.flavor.class)),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Armor: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.armorClass+(i.stats.armorType&&" ("+i.stats.armorType+")"))),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Hit Points: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.hitPointsStr)),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Speed: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.speed))),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(Ze,{stats:i.stats}),r.a.createElement(Ee.a,{className:a.divider}),r.a.createElement(j.a,null,r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Senses: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.senses.length>0?i.stats.senses.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})):"\u2014")),i.stats.damageVulnerabilities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Vulnerabilities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageVulnerabilities.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})))),i.stats.damageResistances.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Resistances: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageResistances.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})))),i.stats.damageImmunities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Damage Immunities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.damageImmunities.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})))),i.stats.conditionImmunities.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Condition Immunities: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.conditionImmunities.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})))),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Languages: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.languages.length>0?i.stats.languages.map((function(e){return r.a.createElement(j.a,{component:"span"},e)})):"\u2013")),r.a.createElement(j.a,null,r.a.createElement(k.a,{className:a.bold,variant:"subheader2",inline:!0},"Challenge: "),r.a.createElement(k.a,{variant:"subheader4",inline:!0},i.stats.challengeRatingStr+(i.stats.experiencePoints&&" ("+i.stats.experiencePoints+" XP)")))),r.a.createElement(Ee.a,{className:a.divider}),i.stats.additionalAbilities.length>0&&r.a.createElement(j.a,null,r.a.createElement(j.a,null,i.stats.additionalAbilities.map((function(e){return r.a.createElement(j.a,{component:"p"},r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),i.stats.actions.length>0&&r.a.createElement(j.a,{component:"p"},r.a.createElement(k.a,{variant:"h6"},"Actions"),r.a.createElement(Ee.a,{className:a.fullWidthDivier}),r.a.createElement(j.a,null,i.stats.actions.map((function(e){return r.a.createElement(j.a,null,r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),i.stats.reactions.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},"Rections"),r.a.createElement(j.a,null,i.stats.reactions.map((function(e){return r.a.createElement(j.a,null,r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))})))),i.stats.legendaryActions.length>0&&r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6"},"Legendary Actions"),r.a.createElement(Ee.a,null),r.a.createElement(j.a,null,i.stats.legendaryActionsDescription),r.a.createElement(j.a,null,i.stats.legendaryActions.map((function(e){return r.a.createElement(j.a,null,r.a.createElement("span",{className:a.bold},e.name+". "),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}}))}))))))),r.a.createElement(N.a,{item:!0,xs:12,sm:12,md:6,className:a.gridItem},r.a.createElement(K.a,{variant:"outlined",className:a.profileBox},r.a.createElement("img",{className:a.image,src:i.flavor.imageUrl}),r.a.createElement(j.a,{component:"p"},i.flavor.description))))))}var yt=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={isAuthenticated:!1,hasLoaded:!1,drawerOpen:!1},n}return Object(s.a)(t,[{key:"handleDrawerOpen",value:function(){this.setState({drawerOpen:!this.state.drawerOpen})}},{key:"authenticated",value:function(){this.setState({isAuthenticated:!this.state.isAuthenticated})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,P.loggedIn()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{open:this.state.drawerOpen,handleDrawer:this.handleDrawerOpen.bind(this),authenticated:this.authenticated.bind(this)}),r.a.createElement(_e,{open:this.state.drawerOpen,handleDrawer:this.handleDrawerOpen.bind(this)})),r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(L,{authenticated:e.authenticated.bind(e)})}}),r.a.createElement(j.a,{style:{margin:"5rem 1rem 1rem 5rem"}},r.a.createElement(E.b,{path:"/register",component:q}),r.a.createElement(E.b,{path:"/profile",component:se}),r.a.createElement(E.b,{path:"/character-creation",component:Ha}),P.hasRole("ALIGNMENT_ACCESS")&&r.a.createElement(E.b,{path:"/alignments",component:$a}),P.hasRole("CHARACTER_ACCESS")&&r.a.createElement(E.b,{path:"/characters/:id",component:ya}),P.hasRole("CHARACTER_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/characters",component:qe}),P.hasRole("NPC_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/npcs",component:vt}),P.hasRole("NPC_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/npc/:id",component:xt}),P.hasRole("INITIATIVE_ACCESS")&&r.a.createElement(E.b,{path:"/initiative",component:ut}),P.hasRole("BESTIARY_ACCESS")&&r.a.createElement(E.b,{path:"/bestiary/:id",component:bt}),P.hasRole("BESTIARY_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/bestiary",component:dt}),P.hasRole("MAP_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/map",component:at}),P.hasRole("MAP_ACCESS")&&r.a.createElement(E.b,{exact:!0,path:"/location/:id",component:rt}),r.a.createElement(E.b,{exact:!0,path:"/",component:G})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.1cc5ea2e.chunk.js.map